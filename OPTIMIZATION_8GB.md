# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è 8GB VRAM

## ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è Z-Image-Turbo –Ω–∞ 8GB VRAM

–í–∞—à–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É–∂–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å 8GB VRAM. –í–æ—Ç —á—Ç–æ –±—ã–ª–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:

### üîß –ö–ª—é—á–µ–≤—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

1. **CPU Offloading** - –í–ö–õ–Æ–ß–ï–ù–û
   - –ü–µ—Ä–µ–Ω–æ—Å–∏—Ç —á–∞—Å—Ç—å –º–æ–¥–µ–ª–∏ –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—É—é –ø–∞–º—è—Ç—å
   - –û—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –≤–∏–¥–µ–æ–ø–∞–º—è—Ç—å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
   - –ú–æ–∂–µ—Ç –Ω–µ–º–Ω–æ–≥–æ –∑–∞–º–µ–¥–ª–∏—Ç—å —Ä–∞–±–æ—Ç—É, –Ω–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥–µ–ª—å

2. **Float16 –≤–º–µ—Å—Ç–æ BFloat16**
   - –ó–∞–Ω–∏–º–∞–µ—Ç –≤ 2 —Ä–∞–∑–∞ –º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏
   - –ù–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ—Ç–µ—Ä—è –∫–∞—á–µ—Å—Ç–≤–∞, –Ω–æ –ø—Ä–∏–µ–º–ª–µ–º–∞—è –¥–ª—è 8GB

3. **–£–º–µ–Ω—å—à–µ–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**
   - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 768x768 –≤–º–µ—Å—Ç–æ 1024x1024
   - –≠–∫–æ–Ω–æ–º–∏—Ç ~30-40% –≤–∏–¥–µ–æ–ø–∞–º—è—Ç–∏
   - –ú–æ–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å –¥–æ 1024x1024, –µ—Å–ª–∏ –µ—Å—Ç—å –∑–∞–ø–∞—Å –ø–∞–º—è—Ç–∏

4. **–û—Ç–∫–ª—é—á–µ–Ω—ã —ç–Ω–µ—Ä–≥–æ–µ–º–∫–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**
   - Flash Attention –æ—Ç–∫–ª—é—á–µ–Ω
   - –ö–æ–º–ø–∏–ª—è—Ü–∏—è –º–æ–¥–µ–ª–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∞
   - –≠—Ç–æ —ç–∫–æ–Ω–æ–º–∏—Ç –ø–∞–º—è—Ç—å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

### üìä –û–∂–∏–¥–∞–µ–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏:

- **–ú–æ–¥–µ–ª—å –≤ VRAM**: ~6-7 GB
- **–ú–æ–¥–µ–ª—å –≤ RAM (CPU offload)**: ~4-5 GB
- **–ë—É—Ñ–µ—Ä—ã –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: ~1-2 GB
- **–ò—Ç–æ–≥–æ VRAM**: ~7-8 GB (–≤ –ø—Ä–µ–¥–µ–ª–∞—Ö 8GB)

### üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–π config.yaml
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É–∂–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞. –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
# –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
python app.py

# –ò–ª–∏ CLI
python cli.py "Your prompt here"
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è 8GB
–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥
copy config_8gb_vram.yaml config.yaml

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞–ø—Ä—è–º—É—é (–Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏)
```

### ‚öôÔ∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏:

#### –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –ø–∞–º—è—Ç–∏:

1. **–ï—â–µ –±–æ–ª—å—à–µ —É–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**:
   ```yaml
   generation:
     default_height: 512
     default_width: 512
   ```

2. **–£–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤** (–Ω–æ –∫–∞—á–µ—Å—Ç–≤–æ –º–æ–∂–µ—Ç —Å–Ω–∏–∑–∏—Ç—å—Å—è):
   ```yaml
   generation:
     default_num_inference_steps: 6  # –í–º–µ—Å—Ç–æ 9
   ```

3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CPU –≤–º–µ—Å—Ç–æ GPU** (–æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ):
   ```yaml
   device:
     type: "cpu"
   ```

#### –ï—Å–ª–∏ –µ—Å—Ç—å –∑–∞–ø–∞—Å –ø–∞–º—è—Ç–∏:

1. **–£–≤–µ–ª–∏—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–æ 1024x1024**:
   ```yaml
   generation:
     default_height: 1024
     default_width: 1024
   ```

2. **–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å bfloat16** (–µ—Å–ª–∏ –º–æ–¥–µ–ª—å –ø–æ–º–µ—â–∞–µ—Ç—Å—è):
   ```yaml
   models:
     z-image-turbo:
       torch_dtype: "bfloat16"
   ```

### üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. **–ó–∞–∫—Ä–æ–π—Ç–µ –¥—Ä—É–≥–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ GPU:
   - –ò–≥—Ä—ã
   - –î—Ä—É–≥–∏–µ AI –º–æ–¥–µ–ª–∏
   - –í–∏–¥–µ–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã

2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏**:
   ```bash
   # Windows - —á–µ—Ä–µ–∑ –¥–∏—Å–ø–µ—Ç—á–µ—Ä –∑–∞–¥–∞—á
   # –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ nvidia-smi –≤ PowerShell
   nvidia-smi
   ```

3. **–ù–∞—á–Ω–∏—Ç–µ —Å –º–∞–ª—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤**:
   - –°–Ω–∞—á–∞–ª–∞ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ 512x512
   - –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç, —É–≤–µ–ª–∏—á—å—Ç–µ –¥–æ 768x768
   - –ï—Å–ª–∏ –µ—Å—Ç—å –∑–∞–ø–∞—Å, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ 1024x1024

### ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **"CUDA out of memory"**:
   - –£–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ CPU offload –≤–∫–ª—é—á–µ–Ω
   - –ó–∞–∫—Ä–æ–π—Ç–µ –¥—Ä—É–≥–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

2. **–ú–µ–¥–ª–µ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è**:
   - –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Å CPU offload
   - –û–∂–∏–¥–∞–π—Ç–µ 10-30 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–≤–º–µ—Å—Ç–æ 1-2 —Å–µ–∫—É–Ω–¥)

3. **–ú–æ–¥–µ–ª—å –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è**:
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –µ—Å—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ RAM (16GB+)
   - CPU offload —Ç—Ä–µ–±—É–µ—Ç –º–Ω–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –ú–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∑–∏–ª–∞—Å—å –±–µ–∑ –æ—à–∏–±–æ–∫
2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç (–¥–∞–∂–µ –º–µ–¥–ª–µ–Ω–Ω–æ)
3. –ù–µ—Ç –æ—à–∏–±–æ–∫ "out of memory"

–ï—Å–ª–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –æ—Ç–ª–∏—á–Ω–æ! –ú–æ–¥–µ–ª—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –≤–∞—à–µ–π –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã.

