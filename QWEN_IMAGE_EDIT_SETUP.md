# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Qwen-Image-Edit-2511-GGUF –¥–ª—è RTX 4060 (8GB VRAM)

## ‚úÖ –ú–æ–¥–µ–ª—å –¥–æ–±–∞–≤–ª–µ–Ω–∞

Qwen-Image-Edit-2511-GGUF –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –ø—Ä–æ–µ–∫—Ç. –°–∏—Å—Ç–µ–º–∞ –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å **GGUF –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é** –æ—Ç unsloth, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Dynamic 2.0 –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

## ‚ö†Ô∏è –í–∞–∂–Ω–æ: GGUF —á–µ—Ä–µ–∑ diffusers

**GGUF —Ñ–æ—Ä–º–∞—Ç** —Ç—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —á–µ—Ä–µ–∑ ComfyUI-GGUF. –¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç diffusers, –ø–æ—ç—Ç–æ–º—É:

1. **–ü–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ GGUF**: –°–∏—Å—Ç–µ–º–∞ –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å `unsloth/Qwen-Image-Edit-2511-GGUF` —á–µ—Ä–µ–∑ diffusers
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback**: –ï—Å–ª–∏ GGUF –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è (—á—Ç–æ –≤–µ—Ä–æ—è—Ç–Ω–æ), —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å `Qwen/Qwen-Image-Edit-2511` —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏ –¥–ª—è 8GB VRAM
3. **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –í –ª—é–±–æ–º —Å–ª—É—á–∞–µ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —Ä–∞–±–æ—á—É—é –º–æ–¥–µ–ª—å, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –¥–ª—è 8GB VRAM

**–î–ª—è –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ GGUF** –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ComfyUI-GGUF, —á—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ.

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è RTX 4060 (8GB VRAM)

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–∏

```yaml
qwen-image-edit:
  name: "unsloth/Qwen-Image-Edit-2511-GGUF"  # GGUF –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
  torch_dtype: "float16"  # float16 –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –ø–∞–º—è—Ç–∏ –Ω–∞ 8GB VRAM
  low_cpu_mem_usage: true  # –í–ö–õ–Æ–ß–ï–ù–û –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –ø–∞–º—è—Ç–∏
  use_gguf: true  # –§–ª–∞–≥ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è GGUF —Ñ–æ—Ä–º–∞—Ç–∞
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ï—Å–ª–∏ GGUF –º–æ–¥–µ–ª—å –Ω–µ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è, —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ `Qwen/Qwen-Image-Edit-2511` —Å —Ç–µ–º–∏ –∂–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

```yaml
device:
  type: "cuda"
  enable_cpu_offload: true  # –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–ª—è 8GB VRAM
  sequential_offload: true  # –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –ø–∞–º—è—Ç–∏
```

## üíæ –†–∞–∑–º–µ—Ä –º–æ–¥–µ–ª–∏

- **GGUF –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è**: ~12-15 GB (–º–µ–Ω—å—à–µ, —á–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è)
- **–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å**: ~40-50 GB
- **–° float16 –∏ CPU offload**: –ü–æ–º–µ—â–∞–µ—Ç—Å—è –≤ 8GB VRAM + RAM (–¥–ª—è –æ–±–µ–∏—Ö –≤–µ—Ä—Å–∏–π)
- **–í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏**: 1-3 –º–∏–Ω—É—Ç—ã (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –≤–µ—Ä—Å–∏–∏ –º–æ–¥–µ–ª–∏)

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `python app.py`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π"
3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –º–æ–¥–µ–ª—å `qwen-image-edit` —á–µ—Ä–µ–∑ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª—è–º–∏"
4. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –æ–¥–Ω–æ –∏–ª–∏ –¥–≤–∞ –≤—Ö–æ–¥–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
5. –í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–ø—Ç —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∂–µ–ª–∞–µ–º—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
6. –ù–∞–∂–º–∏—Ç–µ "‚úèÔ∏è –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"

### –ß–µ—Ä–µ–∑ CLI

```bash
python cli.py --edit "Combine two characters" --image input1.png --image2 input2.png --model qwen-image-edit
```

### –ß–µ—Ä–µ–∑ Python API

```python
from generator import ZImageGenerator
from PIL import Image

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ Qwen-Image-Edit
editor = ZImageGenerator(model_type='qwen-image-edit')

# –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
image1 = Image.open("input1.png")
image2 = Image.open("input2.png")  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
edited_image = editor.edit(
    images=[image1, image2],
    prompt="The magician bear is on the left, the alchemist bear is on the right",
    negative_prompt=" ",
    num_inference_steps=40,
    guidance_scale=1.0,
    true_cfg_scale=4.0,
    seed=42,
    save_path="outputs/edited.png"
)
```

## üì• –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ

–ú–æ–¥–µ–ª—å —Å–∫–∞—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∏–∑ Hugging Face.

### –†—É—á–Ω–æ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ

**–î–ª—è GGUF –≤–µ—Ä—Å–∏–∏:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ huggingface_hub
pip install -U huggingface_hub

# –°–∫–∞—á–∏–≤–∞–Ω–∏–µ GGUF –º–æ–¥–µ–ª–∏
huggingface-cli download unsloth/Qwen-Image-Edit-2511-GGUF --local-dir ./models/qwen-image-edit-gguf
```

**–î–ª—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –º–æ–¥–µ–ª–∏ (fallback):**
```bash
# –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –º–æ–¥–µ–ª–∏
huggingface-cli download Qwen/Qwen-Image-Edit-2511 --local-dir ./models/qwen-image-edit
```

–ü–æ—Å–ª–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤ `config.yaml`:
```yaml
qwen-image-edit:
  local_path: "./models/qwen-image-edit-gguf"  # –∏–ª–∏ "./models/qwen-image-edit" –¥–ª—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π
```

## ‚öôÔ∏è –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è 8GB VRAM

1. **CPU Offload**: –í–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
   - –ß–∞—Å—Ç—å –º–æ–¥–µ–ª–∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ RAM
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –Ω–∞ GPU –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

2. **Sequential Offload**: –í–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–æ –æ–¥–Ω–æ–º—É
   - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —ç–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏

3. **Float16**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–æ bfloat16
   - –≠–∫–æ–Ω–æ–º–∏—Ç ~50% –ø–∞–º—è—Ç–∏ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å bfloat16
   - –ö–∞—á–µ—Å—Ç–≤–æ –æ—Å—Ç–∞–µ—Ç—Å—è –≤—ã—Å–æ–∫–∏–º

4. **Low CPU Memory Usage**: –í–∫–ª—é—á–µ–Ω
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏

## üìä –û–∂–∏–¥–∞–µ–º–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏**: 2-5 –º–∏–Ω—É—Ç (–ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ)
- **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è 512x512**: 1-2 –º–∏–Ω—É—Ç—ã
- **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è 1024x1024**: 2-3 –º–∏–Ω—É—Ç—ã
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ VRAM**: 6-7GB / 8GB
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAM**: 8-12GB (–¥–ª—è CPU offload)

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: CUDA out of memory

**–†–µ—à–µ–Ω–∏–µ**:
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `enable_cpu_offload: true`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `sequential_offload: true`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `torch_dtype: "float16"`
4. –ó–∞–∫—Ä–æ–π—Ç–µ –¥—Ä—É–≥–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ GPU
5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è: `PYTORCH_CUDA_ALLOC_CONF=expandable_segments:True`

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–µ–¥–ª–µ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

**–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!** –° CPU offload –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ–¥–ª–µ–Ω–Ω–µ–µ, –Ω–æ –º–æ–¥–µ–ª—å –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ 8GB VRAM.

–î–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –º–æ–∂–Ω–æ:
- –û—Ç–∫–ª—é—á–∏—Ç—å `sequential_offload` (–Ω–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –±–æ–ª—å—à–µ VRAM)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- [GGUF –≤–µ—Ä—Å–∏—è –º–æ–¥–µ–ª–∏ (unsloth/Qwen-Image-Edit-2511-GGUF)](https://huggingface.co/unsloth/Qwen-Image-Edit-2511-GGUF)
- [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Qwen-Image-Edit-2511](https://huggingface.co/Qwen/Qwen-Image-Edit-2511)
- [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç](https://arxiv.org/abs/2508.02324)
- [–ë–ª–æ–≥ –æ Qwen-Image-Edit-2511](https://qwenlm.github.io/blog/qwen-image-edit-2511/)
- [ComfyUI-GGUF (–¥–ª—è –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ GGUF)](https://github.com/city96/ComfyUI-GGUF)

## ‚úÖ –ò—Ç–æ–≥

–ú–æ–¥–µ–ª—å Qwen-Image-Edit-2511-GGUF –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é. –°–∏—Å—Ç–µ–º–∞ –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å GGUF –≤–µ—Ä—Å–∏—é, –Ω–æ –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç (—á—Ç–æ –≤–µ—Ä–æ—è—Ç–Ω–æ, —Ç.–∫. diffusers –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç GGUF –Ω–∞–ø—Ä—è–º—É—é), –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏ –¥–ª—è 8GB VRAM.

**–û–±–µ –≤–µ—Ä—Å–∏–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ RTX 4060 —Å 8GB VRAM** —á–µ—Ä–µ–∑:
- CPU offload (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- Sequential offload (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —ç–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏)
- Float16 (—ç–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏)
- Low CPU memory usage

**–î–ª—è –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ GGUF** –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ComfyUI-GGUF, —á—Ç–æ —Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ ComfyUI –∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞.

